#!/bin/bash
set -Eeuo pipefail

main() {
    local arg
    arg=${1:-1}

    clear
    files=$(git log -p -1 --name-status --oneline | awk '$1 != "D" && NR != 1 {print $2}' | tr '\n' ' ')

    eval "${EDITOR:-vim} $files"
}

main "$@"
